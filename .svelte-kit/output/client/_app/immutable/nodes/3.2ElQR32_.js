import{e as V,a as x,t as G,n as W,s as M}from"../chunks/disclose-version.COp2Sx5X.js";import{i as $}from"../chunks/legacy.C6dZd77_.js";import{q as J,t as q,r as K,e as r,i as o,v as i,w as t,x as s,y as N,z as n}from"../chunks/runtime.DExCUZGw.js";import{i as A}from"../chunks/preload-helper.DocKlGQB.js";import{b as B,r as R}from"../chunks/input.DoOhNRNz.js";import{p as Q}from"../chunks/event-modifiers.Bfc47y5P.js";import{o as T}from"../chunks/index-client.BmxZP1LF.js";import{s as E}from"../chunks/supabase.BhBeyELt.js";var U=G('<div class="bg-red-50 border-l-4 border-red-400 p-4" role="alert"><p class="text-sm text-red-700"> </p></div>'),X=W('<svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>'),Y=G('<div class="min-h-screen flex flex-col justify-center py-12 sm:px-6 lg:px-8 bg-gray-50"><div class="sm:mx-auto sm:w-full sm:max-w-md"><h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900">Sign in to your account</h2> <p class="mt-2 text-center text-sm text-gray-600">Or <a href="/register" class="font-medium text-indigo-600 hover:text-indigo-500">create a new account</a></p></div> <div class="mt-8 sm:mx-auto sm:w-full sm:max-w-md"><div class="bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"><form class="space-y-6"><!> <div><label for="email" class="block text-sm font-medium text-gray-700">Email address</label> <div class="mt-1"><input id="email" name="email" type="email" required class="appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"></div></div> <div><label for="password" class="block text-sm font-medium text-gray-700">Password</label> <div class="mt-1"><input id="password" name="password" type="password" required class="appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"></div></div> <div class="flex items-center justify-between"><div class="flex items-center"><input id="remember-me" name="remember-me" type="checkbox" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"> <label for="remember-me" class="ml-2 block text-sm text-gray-900">Remember me</label></div> <div class="text-sm"><a href="/forgot-password" class="font-medium text-indigo-600 hover:text-indigo-500">Forgot your password?</a></div></div> <div><button type="submit" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed"><!> </button></div></form> <div class="mt-6"><div class="relative"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-300"></div></div> <div class="relative flex justify-center text-sm"><span class="px-2 bg-white text-gray-500">Or continue with</span></div></div> <div class="mt-6 grid grid-cols-2 gap-3"><button type="button" class="w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"><span class="sr-only">Sign in with Google</span> <svg class="w-5 h-5" viewBox="0 0 24 24"><path fill="currentColor" d="M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"></path></svg></button> <button type="button" class="w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"><span class="sr-only">Sign in with GitHub</span> <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fillRule="evenodd" d="M10 0C4.477 0 0 4.484 0 10.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0110 4.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.203 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.942.359.31.678.921.678 1.856 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0020 10.017C20 4.484 15.522 0 10 0z" clipRule="evenodd"></path></svg></button></div></div></div></div></div>');function de(H,I){J(I,!1);let m=n(""),c=n(""),d=n(!1),l=n("");T(async()=>{const{data:{session:e}}=await E.auth.getSession();e!=null&&e.user&&(window.location.href="/mindmaps")});async function L(){try{o(d,!0),o(l,"");const{data:{user:e},error:a}=await E.auth.signInWithPassword({email:r(m),password:r(c)});if(a)throw a;e&&(window.location.href="/mindmaps")}catch(e){o(l,e.message)}finally{o(d,!1)}}$();var v=Y(),b=i(t(v),2),w=t(b),p=t(w),h=t(p);{var O=e=>{var a=U(),z=t(a),F=t(z,!0);s(z),s(a),q(()=>M(F,r(l))),x(e,a)};A(h,e=>{r(l)&&e(O)})}var u=i(h,2),y=i(t(u),2),_=t(y);R(_),s(y),s(u);var f=i(u,2),k=i(t(f),2),C=t(k);R(C),s(k),s(f);var j=i(f,4),g=t(j),S=t(g);{var P=e=>{var a=X();x(e,a)};A(S,e=>{r(d)&&e(P)})}var D=i(S);s(g),s(j),s(p),N(2),s(w),s(b),s(v),q(()=>{g.disabled=r(d),M(D,` ${(r(d)?"Signing in...":"Sign in")??""}`)}),B(_,()=>r(m),e=>o(m,e)),B(C,()=>r(c),e=>o(c,e)),V("submit",p,Q(L)),x(H,v),K()}export{de as component};
